%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                 %%
%% Please do not use \input{...} to include other tex files.       %%
%% Submit your LaTeX manuscript as one .tex document.              %%
%%                                                                 %%
%% All additional figures and files should be attached             %%
%% separately and not embedded in the \TeX\ document itself.       %%
%%                                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%\documentclass[referee,sn-basic]{sn-jnl}% referee option is meant for double line spacing

%%=======================================================%%
%% to print line numbers in the margin use lineno option %%
%%=======================================================%%

%%\documentclass[lineno,sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style

%%======================================================%%
%% to compile with pdflatex/xelatex use pdflatex option %%
%%======================================================%%

%%\documentclass[pdflatex,sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style

%%\documentclass[sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style
%\documentclass[sn-mathphys]{sn-jnl}% Math and Physical Sciences Reference Style
%%\documentclass[sn-aps]{sn-jnl}% American Physical Society (APS) Reference Style
%%\documentclass[sn-vancouver]{sn-jnl}% Vancouver Reference Style
%%\documentclass[sn-apa]{sn-jnl}% APA Reference Style
%%\documentclass[sn-chicago]{sn-jnl}% Chicago-based Humanities Reference Style
%%\documentclass[sn-standardnature]{sn-jnl}% Standard Nature Portfolio Reference Style
\documentclass[default]{sn-jnl}% Default
%%\documentclass[default,iicol]{sn-jnl}% Default with double column layout

%%%% Standard Packages
%%<additional latex packages if required can be included here>
%%%%

%%%%%=============================================================================%%%%
%%%%  Remarks: This template is provided to aid authors with the preparation
%%%%  of original research articles intended for submission to journals published 
%%%%  by Springer Nature. The guidance has been prepared in partnership with 
%%%%  production teams to conform to Springer Nature technical requirements. 
%%%%  Editorial and presentation requirements differ among journal portfolios and 
%%%%  research disciplines. You may find sections in this template are irrelevant 
%%%%  to your work and are empowered to omit any such section if allowed by the 
%%%%  journal you intend to submit to. The submission guidelines and policies 
%%%%  of the journal take precedence. A detailed User Manual is available in the 
%%%%  template package for technical guidance.
%%%%%=============================================================================%%%%

\jyear{2021}%

%% as per the requirement new theorem styles can be included as shown below
\theoremstyle{thmstyleone}%
\newtheorem{theorem}{Theorem}%  meant for continuous numbers
%%\newtheorem{theorem}{Theorem}[section]% meant for sectionwise numbers
%% optional argument [theorem] produces theorem numbering sequence instead of independent numbers for Proposition
\newtheorem{proposition}[theorem]{Proposition}% 
%%\newtheorem{proposition}{Proposition}% to get separate numbers for theorem and proposition etc.

\theoremstyle{thmstyletwo}%
\newtheorem{example}{Example}%
\newtheorem{remark}{Remark}%

\theoremstyle{thmstylethree}%
\newtheorem{definition}{Definition}%

\raggedbottom
%%\unnumbered% uncomment this for unnumbered level heads


% -----------------------------------------------------------------------------
\usepackage{url}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
%\usepackage[hidelinks]{hyperref}
\usepackage{hyperref}
%\usepackage{pdfpages}
\usepackage{relsize}
%\usepackage{tcolorbox}
%\usepackage{svg}

% \newcommand{\orcid}[1]{\href{https://orcid.org/#1}{\includesvg[height = 2ex]{svg-inkscape/ORCID_iD}}}

\newcommand{\ie}{\textit{, ie.\ }}

\def\codesize{\smaller}
\def\<#1>{\codeid{#1}}
\newcommand{\codeid}[1]{\ifmmode{\mbox{\codesize\ttfamily{#1}}}\else{\codesize\ttfamily #1}\fi}

\usepackage{listings, xcolor}
\newcommand{\todo}[1]{\textcolor{red}{#1}}


\renewcommand{\UrlFont}{\ttfamily\codesize}

\definecolor{verylightgray}{rgb}{.97,.97,.97}

\lstdefinelanguage{Takamaka}{
        keywords=[1]{abstract, break, case, catch, class, continue, default, do
, else, false, finally, for, if, final, implements, extends, import, instanceof, interface, length, new, private, protected, public, return, super, switch, this, throw, true, try, while, var, null}, % generic keywords
        keywordstyle=[1]\color{blue}\bfseries,
        keywords=[2]{boolean, int, long, float, double, byte, short, char, void, enum}, % types; money and time units
        keywordstyle=[2]\color{teal}\bfseries,
        keywords=[3]{@Override,@View,@FromContract,@Payable}, % annotations
        keywordstyle=[3]\color{violet}\bfseries,
        identifierstyle=\color{black},
        sensitive=false,
        comment=[l]{//},
        morecomment=[s]{/*}{*/},
        commentstyle=\color{gray}\ttfamily,
        stringstyle=\color{red}\ttfamily,
        morestring=[b]',
        morestring=[b]"
}

\lstset{
        language=Takamaka,
        backgroundcolor=\color{verylightgray},
        extendedchars=true,
        basicstyle=\scriptsize\ttfamily,
        showstringspaces=false,
        showspaces=false,
        numbers=none,
        numberstyle=\scriptsize,
        numbersep=9pt,
        tabsize=2,
        breaklines=true,
        showtabs=false,
        captionpos=b
}

\lstdefinelanguage{JavaBytecode}{
        keywords=[1]{abstract, class, extends, public, private, protected}, % generic keywords
        keywordstyle=[1]\color{blue}\bfseries,
        keywords=[2]{boolean, int, long, float, double, byte, short, char, void}, % types; money and time units
        keywordstyle=[2]\color{teal}\bfseries,
        keywords=[3]{aload_0,aload_1,aload_2,aload_3,invokespecial,invokevirtual,checkcast,return}, % bytecodes
        keywordstyle=[3]\color{violet}\bfseries,
        identifierstyle=\color{black},
        sensitive=false,
        comment=[l]{//},
        morecomment=[s]{/*}{*/},
        commentstyle=\color{gray}\ttfamily,
        stringstyle=\color{red}\ttfamily,
        morestring=[b]',
        morestring=[b]"
}

\lstset{
        language=JavaBytecode,
        backgroundcolor=\color{verylightgray},
        extendedchars=true,
        basicstyle=\scriptsize\ttfamily,
        showstringspaces=false,
        showspaces=false,
        numbers=none,
        numberstyle=\scriptsize,
        numbersep=9pt,
        tabsize=2,
        breaklines=true,
        showtabs=false,
        captionpos=b
}
% -----------------------------------------------------------------------------

\begin{document}

\title[Power and Pitfalls of Generic Smart Contracts]
{Power and Pitfalls of Generic Smart Contracts}

%%=============================================================%%
%% Prefix       -> \pfx{Dr}
%% GivenName    -> \fnm{Joergen W.}
%% Particle     -> \spfx{van der} -> surname prefix
%% FamilyName   -> \sur{Ploeg}
%% Suffix       -> \sfx{IV}
%% NatureName   -> \tanm{Poet Laureate} -> Title after name
%% Degrees      -> \dgr{MSc, PhD}
%% \author*[1,2]{\pfx{Dr} \fnm{Joergen W.} \spfx{van der} \sur{Ploeg} \sfx{IV} \tanm{Poet Laureate} 
%%                 \dgr{MSc, PhD}}\email{iauthor@gmail.com}
%%=============================================================%%

\author[1]{\fnm{Fausto} \sur{Spoto}}\email{fausto.spoto@univr.it}
\equalcont{These authors contributed equally to this work.}

\author*[1]{\fnm{Sara} \sur{Migliorini}}\email{sara.migliorini@univr.it}
\equalcont{These authors contributed equally to this work.}

\author[1]{\fnm{Mauro} \sur{Gambini}}\email{mauro.gambini@univr.it}
\equalcont{These authors contributed equally to this work.}

\author[1]{\fnm{Andrea} \sur{Benini}}\email{andrea.benini@studenti.univr.it}
\equalcont{These authors contributed equally to this work.}

\affil*[1]{\orgdiv{Department of Computer science}, 
\orgname{University of Verona}, 
\orgaddress{\street{Strada Le Grazie 15}, \city{Verona}, \postcode{37134}, \state{Verona}, \country{Italy}}}


%%==================================%%
%% sample for unstructured abstract %%
%%==================================%%

\abstract{
\input{001_abstract}
}


\keywords{keyword1, Keyword2, Keyword3, Keyword4}

%%\pacs[JEL Classification]{D8, H51}

%%\pacs[MSC Classification]{35A01, 65L10, 65L12, 65L20, 65L70}

\maketitle

%% -----------------------------------------------------------------------------

\input{010_introduction}
\input{015_generics_in_java}
\input{020_shared_entities_with_generics}
\input{030_generics_attack}
\input{040_solution}
\input{050_related_work}
\input{090_conclusion}

%% -----------------------------------------------------------------------------

% \begin{appendices}

% \section{Section title of first appendix}\label{secA1}

% An appendix contains supplementary information that is not an essential 
% part of the text itself but which may be helpful in providing a more
% comprehensive understanding of the research problem or it is information 
% that is too cumbersome to be included in the body of the paper.

%%==============================================%%
%% For submissions to Nature Portfolio Journals %%
%% please use the heading ``Extended Data''.    %%
%%==============================================%%

%%=============================================================%%
%% Sample for another appendix section                         %%
%%=============================================================%%

%% \section{Example of another appendix section}\label{secA2}%
%% Appendices may be used for helpful, supporting or essential material that would otherwise 
%% clutter, break up or be distracting to the text. Appendices can consist of sections, figures, 
%% tables and equations etc.

%\end{appendices}

%%===========================================================================================%%
%% If you are submitting to one of the Nature Portfolio journals, using the eJP submission   %%
%% system, please include the references within the manuscript file itself. You may do this  %%
%% by copying the reference list from your .bbl file, paste it into the main manuscript .tex %%
%% file, and delete the associated \verb+\bibliography+ commands.                            %%
%%===========================================================================================%%

\bibliographystyle{elsarticle-num}
\bibliography{biblio}% common bib file
%% if required, the content of .bbl file can be included here once bbl is generated
%%\input sn-article.bbl

%% Default %%
%%\input sn-sample-bib.tex%

\end{document}
